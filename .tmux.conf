# # ----- solarized color scheme
# set -g status-bg "colour0"
# set -g message-command-fg "colour7"
# set -g status-justify "left"
# set -g status-left-length "100"
# set -g status "on"
# set -g pane-active-border-fg "colour14"
# set -g message-bg "colour11"
# set -g status-right-length "100"
# set -g status-right-attr "none"
# set -g message-fg "colour7"
# set -g message-command-bg "colour11"
# set -g status-attr "none"
# set -g status-utf8 "on"
# set -g pane-border-fg "colour11"
# set -g status-left-attr "none"
# setw -g window-status-fg "colour10"
# setw -g window-status-attr "none"
# setw -g window-status-activity-bg "colour0"
# setw -g window-status-activity-attr "none"
# setw -g window-status-activity-fg "colour14"
# setw -g window-status-separator ""
# setw -g window-status-bg "colour0"
# set -g status-left "#[fg=colour15,bg=colour14,bold] #S #[fg=colour14,bg=colour0,nobold,nounderscore,noitalics]"
# set -g status-right ""
# setw -g window-status-format "#[fg=colour10,bg=colour0] #I #[fg=colour10,bg=colour0] #W "
# setw -g window-status-current-format "#[fg=colour0,bg=colour11,nobold,nounderscore,noitalics]#[fg=colour7,bg=colour11] #I #[fg=colour7,bg=colour11] #W #[fg=colour11,bg=colour0,nobold,nounderscore,noitalics]"

# ----- key bindings
set -g prefix C-a
unbind %
bind \\ split-window -h -c '#{pane_current_path}'
bind - split-window -v -c '#{pane_current_path}'

# Smart pane switching with awareness of vim splits
is_vim='echo "#{pane_current_command}" | grep -iqE "(^|\/)g?(view|n?vim?)(diff)?$"'
bind -n 'C-h' if-shell "$is_vim" "send-keys C-h" "select-pane -L"
bind -n 'C-j' if-shell "$is_vim" "send-keys C-j" "select-pane -D"
bind -n 'C-k' if-shell "$is_vim" "send-keys C-k" "select-pane -U"
bind -n 'C-l' if-shell "$is_vim" "send-keys C-l" "select-pane -R"
bind -n 'C-\' if-shell "$is_vim" "send-keys C-\\" "select-pane -l"

# Resize Panes with Prefix-arrow keys
unbind Right
bind Right resize-pane -R 8
unbind Left
bind Left resize-pane -L 8
unbind Down
bind Down resize-pane -D 4
unbind Up
bind Up resize-pane -U 4

# use ctrl-a ctrl-a to out put ctrl-a in terminal
bind-key C-a send-prefix
bind-key a send-prefix
bind-key h prev
bind-key l next

# # ----- other config

# # no need to index windows at 0
# set -g base-index 1
# set-window-option -g pane-base-index 1

# renumber windows when closing them
set -g renumber-windows on

# increase scrollback lines
set -g history-limit 10000

# correct colors
set -g default-terminal "screen-256color"

# # utf-8
# set -g utf8
# set-window-option -g utf8 on

# # Set window notifications
# setw -g monitor-activity on
# set -g visual-activity on

# # mouse behavior
# # setw -g mode-mouse on
# # set -g mouse-select-pane on
# # set -g mouse-resize-pane on

# make vim shift bindings work
set-window-option -g xterm-keys on

# Make copy and pasting on mac work. <prefix>[ to start mode
# also use vim mode when in copy mode
setw -g mode-keys vi

# bind-key -t vi-copy v begin-selection
# bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"
# unbind -t vi-copy Enter
# bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

# set-option -g default-command "reattach-to-user-namespace -l $SHELL"

# tmux_conf_battery_symbol=heart
# tmux_conf_battery_symbol_count=5

# when we use esc key, do not wait
set -s escape-time 0

# # if run as "tmux attach", create a session if one does not already exist new-session -n $HOST

# italic
set -g default-terminal 'tmux-256color'
set -as terminal-overrides ',xterm*:Tc:sitm=\E[3m'
